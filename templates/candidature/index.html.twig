{% extends 'base.html.twig' %}

{% block title %}Postuler{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Postuler - Étape {{ flow.getCurrentStepNumber() }} sur {{ flow.getStepCount() }}</h2>
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: {{ (flow.getCurrentStepNumber() / flow.getStepCount()) * 100 }}%;" aria-valuenow="{{ flow.getCurrentStepNumber() }}" aria-valuemin="1" aria-valuemax="{{ flow.getStepCount() }}"></div>
                    </div>
                </div>
                <div class="card-body">
                    {{ form_start(form) }}
                    {{ form_errors(form) }}

                    {% if form.firstName is defined %}
                        {{ form_row(form.firstName) }}
                    {% endif %}
                    {% if form.lastName is defined %}
                        {{ form_row(form.lastName) }}
                    {% endif %}
                    {% if form.email is defined %}
                        {{ form_row(form.email) }}
                    {% endif %}
                    {% if form.phone is defined %}
                        {{ form_row(form.phone) }}
                    {% endif %}
                    {% if form.hasExperience is defined %}
                        {{ form_row(form.hasExperience) }}
                    {% endif %}
                    
                    {% if form.experienceDetails is defined %}
                        {{ form_row(form.experienceDetails) }}
                    {% endif %}

                    {% if form.isImmediatelyAvailable is defined %}
                        {{ form_row(form.isImmediatelyAvailable) }}
                        {{ form_row(form.availabilityDate) }}
                    {% endif %}

                    {% if form.consentRGPD is defined %}
                        {{ form_row(form.consentRGPD) }}
                    {% endif %}

                    {# ... le début de votre formulaire ... #}

                    <div class="valorant-actions">
                        {# BOUTON PRÉCÉDENT : N'apparait pas à l'étape 1 #}
                        {% if flow.getCurrentStepNumber() > 1 %}
                        <button type="submit"
                                name="{{ flow.getFormStepBackRequestParameterName() }}"
                                class="btn-valo btn-secondary"
                                formnovalidate>
                            PRÉCÉDENT
                        </button>
                        {% endif %}

                        {# BOUTON SUIVANT / VALIDER #}
                        <button type="submit" class="btn-valo btn-primary">
                            {% if flow.getCurrentStepNumber() < flow.getStepCount() %}
                            SUIVANT
                            {% else %}
                            CONFIRMER LA MISSION
                            {% endif %}
                        </button>
                    </div>
                    {# ... fin du formulaire ... #}
                    
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}